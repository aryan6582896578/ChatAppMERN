<!-- <!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Page Title</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='main.css'>
    <script src='main.js'></script>
</head>
<body>
    <div class="main">hi</div>
</body>
</html> -->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Discord-like Input</title>
  <style>
    body {
      font-family: sans-serif;
      background: #2f3136;
      color: #dcddde;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }

    .chat-container {
      width: 500px;
    }

    .messages {
      margin-bottom: 10px;
      max-height: 300px;
      overflow-y: auto;
      background-color: #36393f;
      padding: 10px;
      border-radius: 8px;
    }

    .message {
      margin-bottom: 6px;
      white-space: pre-wrap;
    }

    .input-box {
      background-color: #40444b;
      border-radius: 8px;
      padding: 10px;
      min-height: 40px;
      outline: none;
      white-space: pre-wrap;
      color: #dcddde;
    }

    .mention {
      color: #00b0f4;
      font-weight: bold;
    }

    .bold {
      font-weight: bold;
    }

    .italic {
      font-style: italic;
    }

    .code {
      font-family: monospace;
      background: #2c2f33;
      padding: 2px 4px;
      border-radius: 4px;
    }
  </style>
</head>
<body>

  <div class="chat-container">
    <div class="messages" id="messages"></div>
    <div
      class="input-box"
      contenteditable="true"
      id="input"
      placeholder="Message #general"
    ></div>
  </div>

  <script>
    const input = document.getElementById('input');
    const messages = document.getElementById('messages');

    function parseMessage(text) {
      // Highlight @mentions
      text = text.replace(/@(\w+)/g, '<span class="mention">@$1</span>');
      // Bold: **text**
      text = text.replace(/\*\*(.*?)\*\*/g, '<span class="bold">$1</span>');
      // Italic: *text*
      text = text.replace(/\*(.*?)\*/g, '<span class="italic">$1</span>');
      // Inline code: `text`
      text = text.replace(/`(.*?)`/g, '<span class="code">$1</span>');
      return text;
    }

    input.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' && !e.shiftKey) {
        e.preventDefault();
        const rawText = input.innerText.trim();
        if (rawText !== '') {
          const msgEl = document.createElement('div');
          msgEl.className = 'message';
          msgEl.innerHTML = rawText;
          messages.appendChild(msgEl);
          input.innerHTML = '';
        }
      }
    });
  </script>

</body>
</html>
